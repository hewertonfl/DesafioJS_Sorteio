<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Desafio 01</title>
    </head>
    <body>
        <h1>Desafio 01</h1>
    </body>
    <script>
        // Fase 1
        // Preenche o array com número aleatórios
        function sorteioFase1() {
            let sorteio = ["0", "0", "0"]
            sorteio.forEach((v, i) => {
                sorteio[i] = parseInt(Math.random() * 3) + 1
                // console.log(sorteio[i])
            })
            return sorteio
        }
        // Fase 2
        // O método abaixo preenche todo o array, em seguida verifica qual posição existe um elemento repetido
        function sorteioFase2() {
            let sorteio = ["0", "0", "0"]
            sorteio.forEach((v, i) => {
                sorteio[i] = parseInt(Math.random() * 3) + 1
                // console.log(`Número sorteado:${sorteio[i]}`)
            })

            for (i = 0; i < sorteio.length; i++) {
                let j = i + 1
                for (j; j < sorteio.length; j++) {
                    if (sorteio[0] == sorteio[1] && sorteio[1] == sorteio[2]) {
                        console.log(`Porta 1 - Aberta`)
                    } else {
                        console.log("Tente de novo")
                    }
                }
            }
            console.log(
                `Números sorteados:${sorteio[0]},${sorteio[1]},${sorteio[2]}`
            )
        }

        // O método abaixo compara o sorteio anterior ao atual, se eles forem iguais o contador soma 1
        // e imprime os números sorteados, assim como qtd de repetições
        function sorteioFase3() {
            let sorteio
            let cnt = 0
            let check = 0
            let numeroTentativas = 0
            let sorteioAnterior = "Inicio"

            while (check != 3) {
                ver += 1
                sorteio = sorteioFase1()
                if (sorteioAnterior == sorteio) {
                    check += 1
                    console.log(`Porta ${check}: Aberta`)
                } else if (
                    sorteio[0] == sorteio[1] &&
                    sorteio[1] == sorteio[2]
                ) {
                    check += 1
                    cnt += 1
                    console.log(`Porta ${check}: Aberta`)
                } else {
                    console.log("Tente de novo")
                }
                sorteioAnterior = sorteio
                numeroTentativas += 1
            }
            console.log(`Qtd de repetições: ${cnt}`)
            console.log(`Qtd de tentativas: ${numeroTentativas}`)
            console.log(`Ok! Você venceu!`)
        }
    </script>
</html>
